<?php
/**
 * @file
 * Drupal needs this blank file.
 */

/**
 * Implements hook_entity_info_alter().
 */
function foundation_access_viewmodes_entity_info_alter(&$entity_info) {
  $types = array(
    'image' => array('', '__card', '__boxed'),
    'mediavideo' => array('', '__thumbnail', '__thumbnail__right', '__poster'),
    'mediasvg' => array(''),
    'figurelabel' => array(''),
    'h5p' => array('', '__card'),
  );
  $directions = array(
    'image' => array('__left', '__right'),
    'mediavideo' => array(),
    'mediasvg' => array('__stretch', '__left', '__right'),
    'figurelabel' => array(),
    'h5p' => array(),
  );
  $variants = array(
    'image' => array('__lightboxed'),
    'mediavideo' => array(),
    'mediasvg' => array('__medium', '__small'),
    'figurelabel' => array(),
    'h5p' => array(),
  );

  // calculate all styles possible from arrays above
  // this is nuts
  foreach ($types as $type => $styles) {
    foreach ($styles as $style) {
      $entity_info['node']['view modes'][$type . $style] = array(
        'label' => t(ucfirst($type . $style)),
        'custom settings' => FALSE,
      );
      foreach ($directions[$type] as $direction) {
        $entity_info['node']['view modes'][$type . $style . $direction] = array(
          'label' => t(ucfirst($type . '' . $style . ' ' . $direction)),
          'custom settings' => FALSE,
        );
      }
      foreach ($variants[$type] as $variant) {
        $entity_info['node']['view modes'][$type . $style . $variant] = array(
          'label' => t(ucfirst($type . ' ' . $style . ' ' . $direction)),
          'custom settings' => FALSE,
        );
        foreach ($directions[$type] as $direction) {
          $entity_info['node']['view modes'][$type . $style . $variant . $direction] = array(
            'label' => t(ucfirst($type . ' ' . $style . ' ' . $variant . ' ' . $direction)),
            'custom settings' => FALSE,
          );
        }
      }
    }
  }
}